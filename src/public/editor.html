<!-- AIGC START -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdown Editor</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/themes.css">
    <style>
        /* ç¼–è¾‘å™¨é¡µé¢çš„æœ€å°å¢é‡æ ·å¼ï¼Œå¤ç”¨ä¸»ç«™è®¾è®¡å˜é‡ */
        .editor-container { display: flex; height: 100vh; }
        .editor-toolbar { padding: 0.5rem 1rem; border-bottom: 1px solid var(--border-color); background: var(--bg-secondary); display:flex; justify-content: space-between; align-items:center; }
        .editor-actions { display:flex; gap:0.5rem; align-items:center; }
        .edit-btn-group { display:flex; gap:4px; }
        .editor-main { flex:1; display:flex; }
        .editor-pane { flex:1; display:flex; flex-direction:column; }
        .editor-pane.left { border-right: 1px solid var(--border-color); }
        .editor-textarea { flex:1; width:100%; padding:1rem; border:none; outline:none; font-family: Menlo, Monaco, Consolas, "Courier New", monospace; font-size:14px; background: var(--bg-primary); color: var(--text-primary); }
        .preview-pane { flex:1; display:flex; flex-direction:column; }
        .preview-body { flex:1; overflow-y:auto; padding:1rem; background: var(--bg-primary); }
        .status-bar { padding:0.25rem 1rem; font-size:0.875rem; color: var(--text-secondary); border-top:1px solid var(--border-color); background: var(--bg-secondary); }
        .split-title { padding:0.5rem 1rem; border-bottom:1px solid var(--border-color); font-size:0.875rem; color: var(--text-secondary); background: var(--bg-secondary); }
        .hidden { display:none; }
        @media (max-width: 768px) { .editor-main { flex-direction: column; } .editor-pane.left { border-right:none; border-bottom: 1px solid var(--border-color); } }

        /* Save As å¼¹çª— */
        .modal-backdrop { position: fixed; inset: 0; background: rgba(0,0,0,0.35); display:none; align-items:center; justify-content:center; z-index: 1000; }
        .modal { width: 720px; max-width: 95vw; background: var(--bg-primary); border: 1px solid var(--border-color); border-radius: 6px; box-shadow: 0 8px 24px rgba(0,0,0,0.2); }
        .modal-header { padding: 0.75rem 1rem; border-bottom: 1px solid var(--border-color); font-weight: 600; }
        .modal-body { display:flex; gap:12px; padding: 0.75rem 1rem; }
        .modal-footer { display:flex; justify-content:flex-end; gap:8px; padding: 0.75rem 1rem; border-top: 1px solid var(--border-color); }
        .tree-pane { flex: 1 1 60%; border: 1px solid var(--border-color); border-radius:6px; padding:8px; max-height: 50vh; overflow:auto; }
        .form-pane { flex: 1 1 40%; display:flex; flex-direction:column; gap:8px; }
        .form-pane input { padding:8px; border:1px solid var(--border-color); border-radius:4px; background: var(--bg-primary); color: var(--text-primary); }
        .tree-item { cursor: pointer; padding:4px 6px; border-radius:4px; }
        .tree-item:hover { background: var(--bg-secondary); }
        .tree-item.selected { background: var(--bg-secondary); outline: 1px solid var(--border-color); }
    </style>
</head>
<body>
    <div class="editor-container">
        <div class="editor-pane" style="flex-basis:100%">
            <div class="editor-toolbar">
                <div class="editor-title" id="editor-title">Markdown ç¼–è¾‘å™¨</div>
                <div class="editor-actions">
                    <button id="btn-back" class="edit-btn" title="è¿”å›é¢„è§ˆ">âŸµ è¿”å›</button>
                    <button id="btn-save" class="edit-btn" title="ä¿å­˜ (Cmd/Ctrl+S)">ğŸ’¾ ä¿å­˜</button>
                    <button id="btn-save-as" class="edit-btn" title="å¦å­˜ä¸º">ğŸ“ å¦å­˜ä¸º</button>
                    <div id="saveas-modal" class="modal-backdrop">
                        <div class="modal">
                            <div class="modal-header">å¦å­˜ä¸º</div>
                            <div class="modal-body">
                                <div class="tree-pane">
                                    <div id="saveas-tree"></div>
                                </div>
                                <div class="form-pane">
                                    <label for="saveas-dir">ç›®æ ‡ç›®å½•</label>
                                    <input id="saveas-dir" type="text" placeholder="ä¾‹å¦‚ï¼šdocs/notes" />
                                    <label for="saveas-name">æ–‡ä»¶å</label>
                                    <input id="saveas-name" type="text" placeholder="ä¾‹å¦‚ï¼šnew-file.md" />
                                    <small>ä»…æ”¯æŒ .md/.markdown/.mdown/.mkd/.mkdn</small>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button id="saveas-cancel" class="edit-btn">å–æ¶ˆ</button>
                                <button id="saveas-confirm" class="edit-btn">ä¿å­˜</button>
                            </div>
                        </div>
                    </div>
                    <button id="btn-bold" class="edit-btn" title="åŠ ç²— (Cmd/Ctrl+B)">B</button>
                    <button id="btn-italic" class="edit-btn" title="æ–œä½“ (Cmd/Ctrl+I)"><i>I</i></button>
                    <div class="edit-btn-group">
                        <button id="btn-h1" class="edit-btn" title="æ ‡é¢˜1 (Cmd/Ctrl+1)">H1</button>
                        <button id="btn-h2" class="edit-btn" title="H2 (Cmd/Ctrl+2)">H2</button>
                        <button id="btn-h3" class="edit-btn" title="H3 (Cmd/Ctrl+3)">H3</button>
                        <button id="btn-h4" class="edit-btn" title="H4 (Cmd/Ctrl+4)">H4</button>
                        <button id="btn-h5" class="edit-btn" title="H5 (Cmd/Ctrl+5)">H5</button>
                        <button id="btn-h6" class="edit-btn" title="H6 (Cmd/Ctrl+6)">H6</button>
                    </div>
                    <button id="btn-toggle-preview" class="edit-btn" title="åˆ‡æ¢é¢„è§ˆ">ğŸ” é¢„è§ˆå¼€å…³</button>
                </div>
            </div>
            <div class="editor-main">
                <div class="editor-pane left">
                    <div class="split-title">ç¼–è¾‘åŒº</div>
                    <textarea id="editor-textarea" class="editor-textarea" placeholder="åœ¨æ­¤è¾“å…¥ Markdown å†…å®¹..."></textarea>
                    <div class="status-bar" id="status">å°±ç»ª</div>
                </div>
                <div class="preview-pane" id="preview-pane">
                    <div class="split-title">é¢„è§ˆåŒº</div>
                    <div class="preview-body" id="preview-body"></div>
                    <div class="status-bar">å®æ—¶æ¸²æŸ“ Â· Mermaid / Prism æ”¯æŒ</div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked@9.1.6/marked.min.js"></script>
    <script src="js/renderer.js"></script>
    <script src="js/fileTree.js"></script>
    <script src="js/editor.js"></script>
</body>
</html>
<!-- AIGC END -->